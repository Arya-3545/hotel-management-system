{% extends "base.html" %}
{% block content %}

<h1>Booking Management</h1>

<!-- ====== Bookings Table ====== -->
<h2>All Bookings</h2>

<table border="1" cellpadding="10" cellspacing="0">
    <thead>
        <tr>
            <th>ID</th>
            <th>Customer ID</th>
            <th>Room ID</th>
            <th>Check-in</th>
            <th>Check-out</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody>
        {% for booking in bookings %}
        <tr>
            <td>{{ booking.id }}</td>
            <td>{{ booking.customer_id }}</td>
            <td>{{ booking.room_id }}</td>
            <td>{{ booking.checkin }}</td>
            <td>{{ booking.checkout }}</td>
            <td>
                <a href="{{ url_for('delete_booking', id=booking.id) }}"
                   onclick="return confirm('Are you sure you want to delete this booking?');">
                   Delete
                </a>
            </td>
        </tr>
        {% else %}
        <tr>
            <td colspan="6">No bookings found.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<hr>

<!-- ====== Booking Form ====== -->
<h2>Add New Booking</h2>

<form method="POST" action="{{ url_for('bookings') }}">
    <label for="customer_id">Customer:</label><br>
    <select name="customer_id" required>
        <option value="">-- Select Customer --</option>
        {% for customer in customers %}
            <option value="{{ customer.id }}">{{ customer.id }}</option>
        {% endfor %}
    </select><br><br>

    <label for="room_id">Room:</label><br>
    <select name="room_id" required>
        <option value="">-- Select Room --</option>
        {% for room in rooms %}
            <option value="{{ room.id }}">{{ room.id }}</option>
        {% endfor %}
    </select><br><br>

    <label for="checkin">Check-in Date:</label><br>
    <input type="text" name="checkin" placeholder="YYYY-MM-DD" required><br><br>

    <label for="checkout">Check-out Date:</label><br>
    <input type="text" name="checkout" placeholder="YYYY-MM-DD" required><br><br>

    <button type="submit">Add Booking</button>
</form>

{% endblock %}
